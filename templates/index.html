<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Reef Logger</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="m-0 p-0">
  <div id="mainContent" class="container-fluid px-3"><br>
  <!-- Titolo principale -->
  <h3 class="mb-4 fw-bold text-primary">ğŸ“˜ Parametri Acquario</h3>

    <!-- Target Ideali -->
    <div class="card shadow-sm mb-4">
      <div class="card-body">
        <h5 class="text-primary fw-semibold mb-3">ğŸ¯ Valori target ideali</h5>
        <div class="row text-center small">

          <div class="col-6 col-md-3 col-lg-2 mb-2">
            <div class="p-2 border rounded bg-light">
              <strong>ğŸŒ¡ Temp</strong><br />
              24 â€“ 26 Â°C
            </div>
          </div>

          <div class="col-6 col-md-3 col-lg-2 mb-2">
            <div class="p-2 border rounded bg-light">
              <strong>ğŸŒŠ DensitÃ </strong><br />
              1025 â€“ 1026
            </div>
          </div>

          <div class="col-6 col-md-3 col-lg-2 mb-2">
            <div class="p-2 border rounded bg-light">
              <strong>ğŸ§ª pH</strong><br />
              8.1 â€“ 8.4
            </div>
          </div>

          <div class="col-6 col-md-3 col-lg-2 mb-2">
            <div class="p-2 border rounded bg-light">
              <strong>ğŸ§² Mg</strong><br />
              1250 â€“ 1350 mg/l
            </div>
          </div>

          <div class="col-6 col-md-3 col-lg-2 mb-2">
            <div class="p-2 border rounded bg-light">
              <strong>ğŸ¦´ Ca</strong><br />
              400 â€“ 450 mg/l
            </div>
          </div>

          <div class="col-6 col-md-3 col-lg-2 mb-2">
            <div class="p-2 border rounded bg-light">
              <strong>ğŸ’§ KH</strong><br />
              7 â€“ 9 Â°dH
            </div>
          </div>

          <div class="col-6 col-md-3 col-lg-2 mb-2">
            <div class="p-2 border rounded bg-light">
              <strong>ğŸŒ¿ NOâ‚ƒ</strong><br />
              1 â€“ 5 mg/l
            </div>
          </div>

          <div class="col-6 col-md-3 col-lg-2 mb-2">
            <div class="p-2 border rounded bg-light">
              <strong>ğŸŸ£ POâ‚„</strong><br />
              0.01 â€“ 0.03 mg/l
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- Form inserimento -->
    <div class="card shadow-sm mb-4">
      <div class="card-body">
        <h5 class="card-title text-primary fw-semibold">ğŸ“¥ Inserisci nuova misurazione</h5>
        <form id="paramForm" class="row g-3">
          <div class="col-md-3">
            <input type="datetime-local" class="form-control" id="datetime" required />
          </div>
          <div class="col-md-3">
            <input type="number" step="0.1" min="0" class="form-control" id="temp" placeholder="Temp (Â°C)" />
          </div>
          <div class="col-md-3">
            <input type="number" min="0" class="form-control" id="salinity" placeholder="SalinitÃ  (ppt)" />
          </div>
          <div class="col-md-3">
            <input type="number" step="0.1" min="0" class="form-control" id="ph" placeholder="pH" />
          </div>
          <div class="col-md-3">
            <input type="number" min="0" class="form-control" id="mg" placeholder="Mg (mg/l)" />
          </div>
          <div class="col-md-3">
            <input type="number" min="0" class="form-control" id="ca" placeholder="Ca (mg/l)" />
          </div>
          <div class="col-md-3">
            <input type="number" step="0.1" min="0" class="form-control" id="kh" placeholder="KH (Â°dH)" />
          </div>
          <div class="col-md-3">
            <input type="number" min="0" class="form-control" id="no3" placeholder="NO3 (mg/l)" />
          </div>
          <div class="col-md-3">
            <input type="number" step="0.01" min="0" class="form-control" id="po4" placeholder="PO4 (mg/l)" />
          </div>
          <div class="col-md-9">
            <textarea name="note" class="form-control" id="note" placeholder="Note" rows="1"></textarea>
          </div>
          <div class="col-12">
            <button type="submit" class="btn btn-primary">Inserisci</button>
          </div>
        </form>
      </div>
    </div>

    <hr />

    <!-- Stato attuale e suggerimenti -->
    <div class="card shadow-sm mb-4">
      <div class="card-body">
        <h5 class="text-primary fw-semibold mb-3" id="lastReadingTitle">ğŸ“‹ Misurazione piÃ¹ recente & suggerimenti</h5>
        <div id="lastReadingSummary" class="row small text-center">
          <div class="col-12 text-muted">Caricamento in corso...</div>
        </div>
      </div>
    </div>

    <!-- Storico Dati -->
    <h3 class="text-primary mb-4 fw-bold">ğŸ“Š Storico Dati</h3>
    <div class="card shadow-sm mb-4">
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-striped table-hover" id="dataTable">
           <thead class="table-dark">
              <tr>
                <th>ğŸ“… Data/Ora</th>
                <th>ğŸŒ¡ Temp</th>
                <th>ğŸŒŠ Sal</th>
                <th>ğŸ§ª pH</th>
                <th>ğŸ§² Mg</th>
                <th>ğŸ¦´ Ca</th>
                <th>ğŸ’§ KH</th>
                <th>ğŸŒ¿ NO3</th>
                <th>ğŸŸ£ PO4</th>
                <th>ğŸ“ Note</th>
                <th>âš™ï¸ Azione</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>
    <hr />

    <!-- Sezione Grafici -->
    <h3 class="text-primary mb-4 fw-bold">ğŸ“ˆ Andamento Parametri</h3>
    <div class="">

      <div class="card shadow-sm mb-4">
        <div class="card-body">
          <div class="col-md-12">
            <h5 class="text-center">ğŸŒ¡ Temperatura</h5>
            <canvas id="chartTemp"></canvas>
          </div>
        </div>
      </div>

      <div class="card shadow-sm mb-4">
        <div class="card-body">
          <div class="col-md-12">
            <h5 class="text-center">ğŸŒŠ SalinitÃ </h5>
            <canvas id="chartSal"></canvas>
          </div>
        </div>
      </div>

      <div class="card shadow-sm mb-4">
        <div class="card-body">
          <div class="col-md-12">
            <h5 class="text-center">ğŸ§ª pH</h5>
            <canvas id="chartPH"></canvas>
          </div>
        </div>
      </div>

      <div class="card shadow-sm mb-4">
        <div class="card-body">
          <div class="col-md-12">
            <h5 class="text-center">ğŸ§² Magnesio (Mg)</h5>
            <canvas id="chartMg"></canvas>
          </div>
        </div>
      </div>

      <div class="card shadow-sm mb-4">
        <div class="card-body">
          <div class="col-md-12">
            <h5 class="text-center">ğŸ¦´ Calcio (Ca)</h5>
            <canvas id="chartCa"></canvas>
          </div>
        </div>
      </div>

      <div class="card shadow-sm mb-4">
        <div class="card-body">
          <div class="col-md-12">
            <h5 class="text-center">ğŸ’§ KH</h5>
            <canvas id="chartKh"></canvas>
          </div>
        </div>
      </div>

      <div class="card shadow-sm mb-4">
        <div class="card-body">
          <div class="col-md-12">
            <h5 class="text-center">ğŸŒ¿ Nitrati (NO3)</h5>
            <canvas id="chartNo3"></canvas>
          </div>
        </div>
      </div>

      <div class="card shadow-sm mb-4">
        <div class="card-body">
          <div class="col-md-12">
            <h5 class="text-center">ğŸŸ£ Fosfati (PO4)</h5>
            <canvas id="chartPo4"></canvas>
          </div>
        </div>
      </div>
    </div> <!-- fine row -->
  </div> <!-- fine container -->

  <!-- Script -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="/static/app.js"></script>
</body>
</html>
